Database systems usually have many parameters that must be configured by database administrators and users. RocksDB achieves fast data writing performance using a log-structured merged tree. This database has many parameters associated with write and space amplification. Write amplification degrades the database performance, and space amplification leads to an increased storage space owing to the storage of unwanted data. Previously, it was proven that significant performance improvements can be achieved by tuning the database parameters. However, tuning the multiple parameters of a database is a laborious task owing to a large number of potential configuration combinations. To address this problem, we built a framework for RocksDB tuning. We first generated a valuable RocksDB data repository for data analysis and tuning. Then we used the data with Mahalanobis distance to make a combined workload that is as close to the original target workload as possible and regard the combined workload as the target workload. We trained a DNN model with the combined workload and RocksDB data(knob values, internal metrics, and external metrics) to use it as the fitness function of a genetic algorithm. Finally, we applied the genetic algorithm to find the best solutions for the original target workload. The experimental results indicate that the framework achieved great performance improvement and it is effective for RocksDB tuning.


